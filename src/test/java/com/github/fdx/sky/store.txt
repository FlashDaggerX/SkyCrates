Crate crate = CrateScheduler.peek();
if (crate == null) return;
//ID.remove(crate.id);
double seed = new Random().nextDouble();

if ((seed * crate.worth.rarity) * 100 > Items.LIMITER) {
    Items items = new Items(crate.getPool());
    Position pos = new Position(new int[]{500, 500});

    World world = pos.getWorld();
    Location loc = pos.getPos();

    Block block = world.getBlockAt(loc);
    block.setType(Material.CHEST);

    BlockState state = block.getState();
    if (state instanceof Chest) {
        Chest chest = (Chest) state;
        chest.getBlockInventory().setContents(items.decideItems());
    }

    Bukkit.broadcastMessage(
        ChatColor.DARK_BLUE + "A crate has spawned at " +
        ChatColor.DARK_GREEN + loc.getBlockX() + ':' + loc.getBlockY() + ':' + loc.getBlockZ() + "! " +
        ChatColor.RED + "[ID] " + crate.id);
} else {
    Bukkit.broadcastMessage(
        ChatColor.RED + "Crate didn't spawn. [ID] " + crate.id);
}
